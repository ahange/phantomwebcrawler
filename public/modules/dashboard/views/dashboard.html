<section ng-controller="DashboardController" ng-init="init()">
    <div class="row">

        <div class="col-md-10 col-md-offset-1" ng-show="!crawlStatus">
            <div class="content-box">
                <!--<h2> Crawl URL</h2>-->

                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <div class="form-area">
                            <form role="form">
                                <button type="button" id="clearcrawl" ng-show="html.rawHtml"
                                        name="clearcrawl" ng-click="clearCrawl()"
                                        class="btn btn-warning pull-right">Clear Crawl</button>
                                <br style="clear:both">
                                <h3 style="margin-bottom: 25px; text-align: center;">Migrate Page Contents</h3>
                                <div id="tab" class="btn-group" data-toggle="buttons-radio">
                                    <a href="#singleUrl" class="btn" data-toggle="tab">Specific Page</a>
                                    <a href="#multiUrl" class="btn" data-toggle="tab">Multiple Pages</a>
                                </div>

                                <div class="tab-content">
                                    <div class="tab-pane active" id="singleUrl">
                                        <div class="form-group">
                                            <input type="text"  class="form-control" id="url" name="url" ng-model="data.url"
                                               placeholder="Page Url" required>
                                         </div>
                                    </div>
                                    <div class="tab-pane" id="multiUrl">
                                        <multiselect ng-model="data.selectedUrls" options="configData.siteUrls" show-search="true">
                                        </multiselect>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <textarea type="text" class="form-control" id="selector" name="selector" ng-model="data.selector"
                                           placeholder="Type Json" ng-focus="focusTextArea = true" ng-blur="focusOut()"  required></textarea>
                                    <div hljs hljs-source="data.selector" style="margin: 10px;" ng-show="!focusTextArea">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="userAgent" ng-model="data.userAgent"
                                           name="userAgent" placeholder="User Agent ( Default IE )" >
                                </div>
                                <button type="button" id="crawlsite" name="crawlsite" ng-click="crawlSite()"
                                        class="btn btn-primary pull-right">Crawl Pages</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="row" ng-show="!html.init">
                    <div class="col-md-6 col-md-offset-3">
                        <h4>Please use below Json format to crawl a website - [ Documentation is in progress .. :) ]</h4>
                        <pre><code class="json">{{initJSON()}}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-10 col-md-offset-1" ng-show="crawlStatus">
            <strong> Crawl Status </strong>
            <div class="alert alert-success alert-dismissible" role="alert" ng-repeat="msg in logs">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span></button>
                {{ msg.message }}
            </div>
        </div>


    </div>
    <div class="row">
        <div class="col-md-10 col-md-offset-1" >
            <div ng-bind-html="html.init | to_trusted">
            </div>
            <pre ng-show="!html.init"><code class="json">{{html.rawHtml}}</code></pre>
        </div>
    </div>
</section>

